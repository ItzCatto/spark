import React, { useState, useEffect, useRef } from 'react';
import { Heart, X, Info, Briefcase, Home, DollarSign, Clock, Sparkles } from 'lucide-react';

// Job categories and templates
const jobTemplates = [
  { title: "Trash Bin Cleaning", category: "Cleaning", pay: [10,15], time: "30 min", icon: "ðŸ—‘ï¸", desc: "Clean and rinse outdoor trash bins", startCost: 3 },
  { title: "Sidewalk Sweeping", category: "Yard Work", pay: [8,12], time: "30 min", icon: "ðŸ§¹", desc: "Sweep sidewalks and driveways", startCost: 0 },
  { title: "Porch Decorating", category: "Seasonal", pay: [15,25], time: "1-2 hours", icon: "ðŸŽƒ", desc: "Decorate porches for holidays", startCost: 5 },
  { title: "Toy Sanitizing", category: "Cleaning", pay: [10,15], time: "1 hour", icon: "ðŸ§¼", desc: "Clean and sanitize kidsâ€™ toys", startCost: 0 },
  { title: "Closet Sorting", category: "Organizing", pay: [15,25], time: "2 hours", icon: "ðŸ‘•", desc: "Sort clothes and organize closets", startCost: 0 },
  { title: "Driveway Chalk Art", category: "Creative", pay: [10,20], time: "1 hour", icon: "ðŸ–ï¸", desc: "Create fun chalk art designs", startCost: 5 },
  { title: "Sticker Packaging", category: "Creative", pay: [8,12], time: "30 min", icon: "â­", desc: "Package stickers for small sellers", startCost: 0 },
  { title: "Homework Checker", category: "Education", pay: [10,15], time: "1 hour", icon: "âœï¸", desc: "Check homework for younger kids", startCost: 0 },
  { title: "Flashcard Maker", category: "Education", pay: [12,18], time: "1 hour", icon: "ðŸ“–", desc: "Create study flashcards", startCost: 0 },
  { title: "Book Shelf Organizer", category: "Organizing", pay: [12,18], time: "1 hour", icon: "ðŸ“š", desc: "Organize bookshelves", startCost: 0 },

  { title: "Water Bottle Filling", category: "Events", pay: [8,12], time: "1 hour", icon: "ðŸš°", desc: "Refill water stations at events", startCost: 0 },
  { title: "Sports Equipment Cleaner", category: "Cleaning", pay: [10,15], time: "1 hour", icon: "âš½", desc: "Clean sports gear", startCost: 0 },
  { title: "Garage Sweeping", category: "Cleaning", pay: [12,18], time: "1 hour", icon: "ðŸ¡", desc: "Sweep and tidy garages", startCost: 0 },
  { title: "Mailbox Painting", category: "Creative", pay: [15,25], time: "1 hour", icon: "ðŸ“®", desc: "Paint and decorate mailboxes", startCost: 10 },
  { title: "Plant Labeling", category: "Yard Work", pay: [8,12], time: "30 min", icon: "ðŸ·ï¸", desc: "Label plants in gardens", startCost: 0 },
  { title: "Picnic Setup", category: "Events", pay: [15,25], time: "1-2 hours", icon: "ðŸ§º", desc: "Set up picnic areas", startCost: 0 },
  { title: "Party Bag Assembly", category: "Events", pay: [10,15], time: "1 hour", icon: "ðŸŽ", desc: "Assemble party favor bags", startCost: 0 },
  { title: "Toy Testing", category: "Creative", pay: [8,12], time: "30 min", icon: "ðŸ§¸", desc: "Test toys and give feedback", startCost: 0 },
  { title: "Game Night Helper", category: "Events", pay: [12,18], time: "2 hours", icon: "ðŸŽ²", desc: "Help run family game nights", startCost: 0 },
  { title: "Balloon Inflating", category: "Events", pay: [10,15], time: "1 hour", icon: "ðŸŽˆ", desc: "Inflate balloons for parties", startCost: 0 },

  { title: "Card Writing", category: "Creative", pay: [8,12], time: "30 min", icon: "ðŸ’Œ", desc: "Write thank-you or holiday cards", startCost: 0 },
  { title: "Scrapbook Helper", category: "Creative", pay: [12,18], time: "1 hour", icon: "ðŸ“”", desc: "Help assemble scrapbooks", startCost: 5 },
  { title: "Pet Toy Making", category: "Pet Care", pay: [10,15], time: "1 hour", icon: "ðŸ¦´", desc: "Make DIY pet toys", startCost: 5 },
  { title: "Bird House Painting", category: "Creative", pay: [15,25], time: "1-2 hours", icon: "ðŸ ", desc: "Paint birdhouses", startCost: 10 },
  { title: "Homework Organizer", category: "Education", pay: [12,18], time: "1 hour", icon: "ðŸ—‚ï¸", desc: "Organize school planners", startCost: 0 },
  { title: "Digital File Sorting", category: "Tech", pay: [15,25], time: "1 hour", icon: "ðŸ’¾", desc: "Organize files and folders", startCost: 0 },
  { title: "Phone Photo Cleanup", category: "Tech", pay: [15,25], time: "1 hour", icon: "ðŸ“±", desc: "Delete duplicates and organize photos", startCost: 0 },
  { title: "Menu Coloring", category: "Creative", pay: [8,12], time: "30 min", icon: "ðŸ–ï¸", desc: "Color kids menus for restaurants", startCost: 0 },
  { title: "Puzzle Sorting", category: "Organizing", pay: [10,15], time: "1 hour", icon: "ðŸ§©", desc: "Sort puzzle pieces", startCost: 0 },
  { title: "Sticker Design Ideas", category: "Creative", pay: [12,18], time: "1 hour", icon: "âœ¨", desc: "Come up with sticker ideas", startCost: 0 },

  { title: "Bike Tire Pumping", category: "Services", pay: [8,12], time: "15 min", icon: "ðŸš²", desc: "Pump bike tires", startCost: 0 },
  { title: "Scooter Washing", category: "Cleaning", pay: [8,12], time: "30 min", icon: "ðŸ›´", desc: "Wash scooters", startCost: 0 },
  { title: "Remote Control Car Cleaning", category: "Cleaning", pay: [8,12], time: "30 min", icon: "ðŸŽï¸", desc: "Clean RC cars", startCost: 0 },
  { title: "Board Game Sorting", category: "Organizing", pay: [10,15], time: "1 hour", icon: "â™Ÿï¸", desc: "Sort board game pieces", startCost: 0 },
  { title: "Pet Photo Taking", category: "Creative", pay: [15,25], time: "1 hour", icon: "ðŸ“·", desc: "Take cute pet photos", startCost: 0 },
  { title: "Neighborhood Flyer Delivery", category: "Errands", pay: [10,15], time: "1 hour", icon: "ðŸ“„", desc: "Deliver flyers locally", startCost: 0 },
  { title: "Welcome Basket Helper", category: "Events", pay: [12,18], time: "1 hour", icon: "ðŸ§º", desc: "Assemble welcome baskets", startCost: 0 },
  { title: "Toy Inventory Helper", category: "Organizing", pay: [12,18], time: "1 hour", icon: "ðŸ“¦", desc: "Count and inventory toys", startCost: 0 },
  { title: "Mini Course Creator", category: "Education", pay: [15,25], time: "2 hours", icon: "ðŸŽ“", desc: "Create short learning guides", startCost: 0 },
  { title: "Study Room Setup", category: "Organizing", pay: [15,25], time: "2 hours", icon: "ðŸª‘", desc: "Set up study areas", startCost: 0 }
];


const neighborhoods = [
  "Maple Street", "Oak Avenue", "Pine Road", "Elm Drive", "Cedar Lane",
  "Birch Court", "Willow Way", "Spruce Street", "Hickory Place", "Aspen Circle",
  "Cherry Boulevard", "Walnut Drive", "Poplar Avenue", "Magnolia Street", "Cypress Road"
];

const generateJobs = () => {
  const jobs = [];
  let id = 1;
  
  jobTemplates.forEach(template => {
    const variations = 35 + Math.floor(Math.random() * 6);
    for (let i = 0; i < variations; i++) {
      const neighborhood = neighborhoods[Math.floor(Math.random() * neighborhoods.length)];
      const payRate = template.pay[0] + Math.floor(Math.random() * (template.pay[1] - template.pay[0] + 1));
      
      jobs.push({
        id: id++,
        ...template,
        location: neighborhood,
        payRate: `$${payRate}/hr`,
        posted: `${Math.floor(Math.random() * 7) + 1}d ago`
      });
    }
  });
  
  return jobs.sort(() => Math.random() - 0.5);
};

const App = () => {
  const [currentPage, setCurrentPage] = useState('swipe');
  const [jobs, setJobs] = useState([]);
  const [currentIndex, setCurrentIndex] = useState(0);
  const [interested, setInterested] = useState([]);
  const [working, setWorking] = useState([]);
  const [showInfo, setShowInfo] = useState(false);
  const [showHelper, setShowHelper] = useState(true);
  
  // Swipe animation state
  const [isAnimating, setIsAnimating] = useState(false);
  const [animationDirection, setAnimationDirection] = useState(null);
  
  // Touch state
  const [touchStart, setTouchStart] = useState(null);
  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });
  const [isDragging, setIsDragging] = useState(false);

  const cardRef = useRef(null);

  useEffect(() => {
    setJobs(generateJobs());
    setTimeout(() => setShowHelper(false), 5000);
  }, []);

  const currentJob = jobs[currentIndex];
  const minSwipeDistance = 80;

  const onTouchStart = (e) => {
    if (isAnimating) return;
    const touch = e.touches[0];
    setTouchStart({ x: touch.clientX, y: touch.clientY });
    setIsDragging(true);
  };

  const onTouchMove = (e) => {
    if (!touchStart || isAnimating) return;
    
    const touch = e.touches[0];
    const deltaX = touch.clientX - touchStart.x;
    const deltaY = touch.clientY - touchStart.y;
    
    setDragOffset({ x: deltaX, y: deltaY });
  };

  const onTouchEnd = () => {
    if (!touchStart || isAnimating) {
      setIsDragging(false);
      setDragOffset({ x: 0, y: 0 });
      return;
    }

    const absX = Math.abs(dragOffset.x);
    const absY = Math.abs(dragOffset.y);

    if (absY > absX && dragOffset.y < -minSwipeDistance) {
      // Swipe up - show info
      setShowInfo(true);
      setIsDragging(false);
      setDragOffset({ x: 0, y: 0 });
      setTouchStart(null);
    } else if (absX > minSwipeDistance) {
      // Horizontal swipe
      const direction = dragOffset.x > 0 ? 'right' : 'left';
      executeSwipe(direction);
    } else {
      // Didn't swipe far enough, reset
      setIsDragging(false);
      setDragOffset({ x: 0, y: 0 });
      setTouchStart(null);
    }
  };

  const executeSwipe = (direction) => {
    if (isAnimating || !currentJob) return;
    
    console.log('Executing swipe:', direction);
    setIsAnimating(true);
    setAnimationDirection(direction);
    setIsDragging(false);
    setTouchStart(null);
    
    // Animate card off screen
    setTimeout(() => {
      if (direction === 'right') {
        setInterested(prev => [...prev, currentJob]);
      }
      
      // Move to next card
      setCurrentIndex(prev => prev + 1);
      setIsAnimating(false);
      setAnimationDirection(null);
      setDragOffset({ x: 0, y: 0 });
      setShowInfo(false);
    }, 400);
  };

  const handleButtonClick = (direction) => {
    executeSwipe(direction);
  };

  const moveToWorking = (job) => {
    setWorking([...working, job]);
    setInterested(interested.filter(j => j.id !== job.id));
  };

  const removeFromWorking = (job) => {
    setWorking(working.filter(j => j.id !== job.id));
  };

  const Helper = () => (
    <div className={`fixed top-20 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-500 ${showHelper ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-10 pointer-events-none'}`}>
      <div className="bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-2xl px-6 py-3 shadow-2xl flex items-center gap-3">
        <Sparkles className="w-5 h-5" />
        <p className="text-sm font-medium">Swipe right to save, left to pass!</p>
      </div>
    </div>
  );

  const SwipePage = () => {
    // Calculate transform based on drag or animation
    let cardStyle = {};
    
    if (isAnimating && animationDirection) {
      console.log('Animating:', animationDirection);
      const exitX = animationDirection === 'right' ? 1000 : -1000;
      const exitRotate = animationDirection === 'right' ? 30 : -30;
      cardStyle = {
        transform: `translateX(${exitX}px) rotate(${exitRotate}deg)`,
        opacity: 0,
        transition: 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)'
      };
    } else if (isDragging) {
      const rotation = dragOffset.x / 15;
      const opacity = 1 - Math.abs(dragOffset.x) / 400;
      cardStyle = {
        transform: `translateX(${dragOffset.x}px) translateY(${dragOffset.y}px) rotate(${rotation}deg)`,
        opacity: opacity,
        transition: 'none',
        cursor: 'grabbing'
      };
    } else {
      cardStyle = {
        transform: 'translateX(0px) translateY(0px) rotate(0deg)',
        opacity: 1,
        transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',
        cursor: 'grab'
      };
    }
    
    const showLikeOverlay = (isDragging && dragOffset.x > 50) || (isAnimating && animationDirection === 'right');
    const showNopeOverlay = (isDragging && dragOffset.x < -50) || (isAnimating && animationDirection === 'left');
    
    return (
      <div className="relative h-full flex flex-col items-center justify-center p-4 pb-8">
        {currentJob ? (
          <>
            <div 
              ref={cardRef}
              onTouchStart={onTouchStart}
              onTouchMove={onTouchMove}
              onTouchEnd={onTouchEnd}
              className="w-full max-w-md select-none relative"
              style={cardStyle}
            >
              {/* Overlay indicators */}
              <div className={`absolute inset-0 z-10 pointer-events-none transition-opacity duration-200 ${showLikeOverlay ? 'opacity-100' : 'opacity-0'}`}>
                <div className="absolute top-12 right-8 bg-green-500 text-white px-8 py-4 rounded-2xl font-bold text-2xl shadow-2xl transform rotate-12 border-4 border-white">
                  LIKE
                </div>
              </div>
              
              <div className={`absolute inset-0 z-10 pointer-events-none transition-opacity duration-200 ${showNopeOverlay ? 'opacity-100' : 'opacity-0'}`}>
                <div className="absolute top-12 left-8 bg-red-500 text-white px-8 py-4 rounded-2xl font-bold text-2xl shadow-2xl transform -rotate-12 border-4 border-white">
                  NOPE
                </div>
              </div>

              <div className="bg-white rounded-3xl shadow-2xl overflow-hidden">
                <div className="relative bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 h-64 flex items-center justify-center">
                  <div className="text-9xl animate-bounce-subtle">{currentJob.icon}</div>
                  <div className="absolute top-4 right-4 bg-white/95 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg">
                    <span className="text-green-600 font-bold text-sm">{currentJob.payRate}</span>
                  </div>
                </div>
                
                <div className="p-6">
                  <div className="mb-4">
                    <h2 className="text-3xl font-bold text-gray-900 mb-1">{currentJob.title}</h2>
                    <p className="text-indigo-600 font-semibold text-sm uppercase tracking-wide">{currentJob.category}</p>
                  </div>

                  <div className="space-y-3 mb-4">
                    <div className="flex items-center justify-between">
                      <div className="flex items-center text-gray-600">
                        <Clock className="w-5 h-5 mr-3 text-indigo-500 flex-shrink-0" />
                        <span className="text-sm font-medium">{currentJob.time}</span>
                      </div>
                      <div className={`px-3 py-1 rounded-full text-xs font-bold ${
                        currentJob.startCost === 0 
                          ? 'bg-green-100 text-green-700' 
                          : 'bg-orange-100 text-orange-700'
                      }`}>
                        {currentJob.startCost === 0 ? 'âœ“ FREE' : '$ PAID'}
                      </div>
                    </div>
                    <div className="flex items-center text-gray-600">
                      <DollarSign className="w-5 h-5 mr-3 text-green-500 flex-shrink-0" />
                      <span className="text-sm font-medium">You can earn: {currentJob.payRate}</span>
                    </div>
                  </div>

                  {showInfo && (
                    <div className="mt-4 p-4 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl animate-slideDown border border-indigo-100">
                      <p className="text-gray-700 leading-relaxed">{currentJob.desc}</p>
                    </div>
                  )}
                </div>
              </div>
            </div>

            <div className="flex gap-4 mt-8 relative z-20">
              <button
                onClick={() => handleButtonClick('left')}
                disabled={isAnimating}
                className="bg-white text-red-500 p-5 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 active:scale-95 transition-all border-2 border-red-200 disabled:opacity-50 disabled:cursor-not-allowed"
              >
                <X className="w-7 h-7" />
              </button>
              
              <button
                onClick={() => setShowInfo(!showInfo)}
                disabled={isAnimating}
                className="bg-white text-indigo-500 p-5 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 active:scale-95 transition-all border-2 border-indigo-200 disabled:opacity-50 disabled:cursor-not-allowed"
              >
                <Info className="w-7 h-7" />
              </button>
              
              <button
                onClick={() => handleButtonClick('right')}
                disabled={isAnimating}
                className="bg-white text-green-500 p-5 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 active:scale-95 transition-all border-2 border-green-200 disabled:opacity-50 disabled:cursor-not-allowed"
              >
                <Heart className="w-7 h-7" />
              </button>
            </div>

            <div className="mt-6 text-gray-500 text-sm font-medium">
              {jobs.length - currentIndex} opportunities remaining
            </div>
          </>
        ) : (
          <div className="text-center animate-fadeIn">
            <div className="text-7xl mb-4 animate-bounce">ðŸŽ‰</div>
            <h2 className="text-3xl font-bold text-gray-900 mb-3">All Caught Up!</h2>
            <p className="text-gray-600 text-lg">You've reviewed all available jobs.</p>
            <p className="text-gray-500 text-sm mt-2">Check back later for new opportunities!</p>
          </div>
        )}
      </div>
    );
  };

  const MyJobsPage = () => (
    <div className="p-6 overflow-y-auto h-full pb-24">
      <div className="mb-8">
        <h2 className="text-2xl font-bold text-gray-900 mb-4 flex items-center">
          <div className="bg-green-100 p-2 rounded-lg mr-3">
            <Briefcase className="w-6 h-6 text-green-600" />
          </div>
          Active Jobs
        </h2>
        {working.length === 0 ? (
          <div className="text-center py-12 bg-white rounded-2xl shadow-sm">
            <div className="text-5xl mb-3">ðŸ’¼</div>
            <p className="text-gray-500">No active jobs yet</p>
            <p className="text-gray-400 text-sm mt-1">Start a job from your saved list</p>
          </div>
        ) : (
          <div className="grid gap-4">
            {working.map(job => (
              <div key={job.id} className="bg-white rounded-2xl p-5 shadow-md border-2 border-green-500 hover:shadow-lg transition-all animate-slideIn">
                <div className="flex items-start justify-between">
                  <div className="flex items-start gap-4 flex-1">
                    <div className="text-4xl">{job.icon}</div>
                    <div className="flex-1">
                      <h3 className="font-bold text-gray-900 text-lg mb-1">{job.title}</h3>
                      <div className="flex items-center gap-3 text-sm text-gray-600 mb-2">
                        <div className="flex items-center">
                          <Clock className="w-4 h-4 mr-1" />
                          {job.time}
                        </div>
                        <div className="flex items-center">
                          <DollarSign className="w-4 h-4 mr-1" />
                          {job.payRate}
                        </div>
                      </div>
                      <div className={`inline-block px-3 py-1 rounded-lg text-xs font-semibold ${
                        job.startCost === 0 
                          ? 'bg-green-100 text-green-700' 
                          : 'bg-yellow-100 text-yellow-700'
                      }`}>
                        {job.startCostDisplay}
                      </div>
                    </div>
                  </div>
                  <button
                    onClick={() => removeFromWorking(job)}
                    className="text-green-600 hover:text-green-700 font-medium text-sm px-4 py-2 rounded-lg hover:bg-green-50 transition-colors"
                  >
                    Complete
                  </button>
                </div>
              </div>
            ))}
          </div>
        )}
      </div>

      <div>
        <h2 className="text-2xl font-bold text-gray-900 mb-4 flex items-center">
          <div className="bg-pink-100 p-2 rounded-lg mr-3">
            <Heart className="w-6 h-6 text-pink-600" />
          </div>
          Saved Jobs
        </h2>
        {interested.length === 0 ? (
          <div className="text-center py-12 bg-white rounded-2xl shadow-sm">
            <div className="text-5xl mb-3">ðŸ’«</div>
            <p className="text-gray-500">No saved jobs yet</p>
            <p className="text-gray-400 text-sm mt-1">Swipe right on jobs you like!</p>
          </div>
        ) : (
          <div className="grid gap-4">
            {interested.map(job => (
              <div key={job.id} className="bg-white rounded-2xl p-5 shadow-md hover:shadow-lg transition-all animate-slideIn">
                <div className="flex items-start justify-between">
                  <div className="flex items-start gap-4 flex-1">
                    <div className="text-4xl">{job.icon}</div>
                    <div className="flex-1">
                      <h3 className="font-bold text-gray-900 text-lg mb-1">{job.title}</h3>
                      <div className="flex items-center gap-3 text-sm text-gray-600 mb-2">
                        <div className="flex items-center">
                          <Clock className="w-4 h-4 mr-1" />
                          {job.time}
                        </div>
                        <div className="flex items-center">
                          <DollarSign className="w-4 h-4 mr-1" />
                          {job.payRate}
                        </div>
                      </div>
                      <div className={`inline-block px-3 py-1 rounded-lg text-xs font-semibold ${
                        job.startCost === 0 
                          ? 'bg-indigo-100 text-indigo-700' 
                          : 'bg-yellow-100 text-yellow-700'
                      }`}>
                        {job.startCostDisplay}
                      </div>
                    </div>
                  </div>
                  <button
                    onClick={() => moveToWorking(job)}
                    className="bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white px-5 py-2 rounded-xl text-sm font-medium shadow-md hover:shadow-lg transition-all"
                  >
                    Start
                  </button>
                </div>
              </div>
            ))}
          </div>
        )}
      </div>
    </div>
  );

  return (
    <div className="h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex flex-col overflow-hidden">
      <header className="bg-white shadow-sm border-b border-gray-200 p-4 sticky top-0 z-40">
        <div className="max-w-6xl mx-auto flex items-center justify-between">
          <div className="flex items-center gap-3">
            <div className="bg-gradient-to-br from-indigo-500 to-purple-600 p-2 rounded-xl">
              <Briefcase className="w-6 h-6 text-white" />
            </div>
            <div>
              <h1 className="text-xl font-bold text-gray-900">JobMatch</h1>
              <p className="text-xs text-gray-500">Youth Opportunities</p>
            </div>
          </div>
          <div className="text-xs text-gray-500 bg-gray-100 px-3 py-1.5 rounded-lg">
            Ages 1-15
          </div>
        </div>
      </header>

      <Helper />

      <div className="flex-1 overflow-hidden">
        {currentPage === 'swipe' ? <SwipePage /> : <MyJobsPage />}
      </div>

      <nav className="bg-white border-t border-gray-200 shadow-lg sticky bottom-0 z-40">
        <div className="max-w-6xl mx-auto flex justify-around p-2">
          <button
            onClick={() => setCurrentPage('swipe')}
            className={`flex flex-col items-center gap-1 px-8 py-3 rounded-2xl transition-all ${
              currentPage === 'swipe' 
                ? 'bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg' 
                : 'text-gray-600 hover:bg-gray-100'
            }`}
          >
            <Home className="w-6 h-6" />
            <span className="text-xs font-semibold">Discover</span>
          </button>
          
          <button
            onClick={() => setCurrentPage('myjobs')}
            className={`flex flex-col items-center gap-1 px-8 py-3 rounded-2xl transition-all relative ${
              currentPage === 'myjobs' 
                ? 'bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg' 
                : 'text-gray-600 hover:bg-gray-100'
            }`}
          >
            <Briefcase className="w-6 h-6" />
            <span className="text-xs font-semibold">My Jobs</span>
            {(interested.length + working.length > 0) && (
              <span className="absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">
                {interested.length + working.length}
              </span>
            )}
          </button>
        </div>
      </nav>

      <style>{`
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateX(-20px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
        @keyframes bounce-subtle {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-10px);
          }
        }
        .animate-slideDown {
          animation: slideDown 0.3s ease-out;
        }
        .animate-slideIn {
          animation: slideIn 0.4s ease-out;
        }
        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out;
        }
        .animate-bounce-subtle {
          animation: bounce-subtle 3s ease-in-out infinite;
        }
      `}</style>
    </div>
  );
};

export default App;
