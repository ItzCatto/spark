<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spark - Ignite Your Hustle</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
    @keyframes bounce-subtle {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-10px);
      }
    }
    .animate-slideDown {
      animation: slideDown 0.3s ease-out;
    }
    .animate-slideIn {
      animation: slideIn 0.4s ease-out;
    }
    .animate-fadeIn {
      animation: fadeIn 0.5s ease-out;
    }
    .animate-bounce-subtle {
      animation: bounce-subtle 3s ease-in-out infinite;
    }
    .transition-transform {
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
  </style>
</head>
<body class="h-screen bg-gradient-to-br from-slate-50 to-slate-100 overflow-hidden">
  <div id="app" class="h-full flex flex-col">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b border-gray-200 p-4 sticky top-0 z-40">
      <div class="max-w-6xl mx-auto flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="bg-gradient-to-br from-indigo-500 to-purple-600 p-2 rounded-xl">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
            </svg>
          </div>
          <div>
            <h1 class="text-xl font-bold text-gray-900">Spark</h1>
            <p class="text-xs text-gray-500">Ignite Your Hustle</p>
          </div>
        </div>
        <div class="text-xs text-gray-500 bg-gray-100 px-3 py-1.5 rounded-lg">
          Ages 13-15
        </div>
      </div>
    </header>

    <!-- Helper Tooltip -->
    <div id="helper" class="fixed top-20 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-500">
      <div class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-2xl px-6 py-3 shadow-2xl flex items-center gap-3">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
        </svg>
        <p class="text-sm font-medium">Swipe right to save, left to pass!</p>
      </div>
    </div>

    <!-- Main Content -->
    <div id="mainContent" class="flex-1 overflow-hidden"></div>

    <!-- Navigation -->
    <nav class="bg-white border-t border-gray-200 shadow-lg sticky bottom-0 z-40">
      <div class="max-w-6xl mx-auto flex justify-around p-2">
        <button id="navDiscover" class="nav-btn flex flex-col items-center gap-1 px-8 py-3 rounded-2xl transition-all bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
          </svg>
          <span class="text-xs font-semibold">Discover</span>
        </button>
        
        <button id="navMyJobs" class="nav-btn flex flex-col items-center gap-1 px-8 py-3 rounded-2xl transition-all text-gray-600 hover:bg-gray-100 relative">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
          </svg>
          <span class="text-xs font-semibold">My Jobs</span>
          <span id="jobBadge" class="hidden absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center"></span>
        </button>
      </div>
    </nav>
  </div>

  <script>
    // Job templates
    const jobTemplates = [
      { title: "Dog Walking", category: "Pet Care", pay: [10, 15], time: "1-2 hours", icon: "ðŸ•", desc: "Walk neighborhood dogs and ensure they get exercise", startCost: 0 },
      { title: "Lawn Mowing", category: "Yard Work", pay: [20, 30], time: "2-3 hours", icon: "ðŸŒ±", desc: "Mow lawns and keep yards looking neat", startCost: 0 },
      { title: "Babysitting", category: "Childcare", pay: [12, 18], time: "2-4 hours", icon: "ðŸ‘¶", desc: "Watch and play with younger kids while parents are out", startCost: 0 },
      { title: "Pet Sitting", category: "Pet Care", pay: [15, 22], time: "Per day", icon: "ðŸ±", desc: "Take care of pets while owners are away", startCost: 0 },
      { title: "Tutoring", category: "Education", pay: [18, 25], time: "1 hour", icon: "ðŸ“š", desc: "Help younger students with homework and studying", startCost: 0 },
      { title: "Car Washing", category: "Cleaning", pay: [12, 20], time: "30 min", icon: "ðŸš—", desc: "Wash and detail cars in the neighborhood", startCost: 5 },
      { title: "Garden Weeding", category: "Yard Work", pay: [12, 18], time: "2 hours", icon: "ðŸŒ»", desc: "Pull weeds and help maintain gardens", startCost: 0 },
      { title: "Snow Shoveling", category: "Seasonal", pay: [20, 30], time: "1-2 hours", icon: "â„ï¸", desc: "Clear driveways and walkways after snowfall", startCost: 10 },
      { title: "Leaf Raking", category: "Seasonal", pay: [15, 25], time: "2 hours", icon: "ðŸ‚", desc: "Rake and bag leaves in fall season", startCost: 0 },
      { title: "Plant Watering", category: "Yard Work", pay: [8, 12], time: "30 min", icon: "ðŸ’§", desc: "Water plants and gardens while owners are away", startCost: 0 },
      { title: "Window Cleaning", category: "Cleaning", pay: [18, 25], time: "1-2 hours", icon: "ðŸªŸ", desc: "Clean windows inside and outside homes", startCost: 8 },
      { title: "Recycling Helper", category: "Household", pay: [8, 12], time: "30 min", icon: "â™»ï¸", desc: "Sort and take out recycling for households", startCost: 0 },
      { title: "Grocery Shopping", category: "Errands", pay: [12, 18], time: "1 hour", icon: "ðŸ›’", desc: "Shop for groceries for elderly or busy neighbors", startCost: 0 },
      { title: "Tech Help", category: "Services", pay: [18, 25], time: "1 hour", icon: "ðŸ’»", desc: "Help seniors with phones, tablets, and computers", startCost: 0 },
      { title: "Birthday Party Helper", category: "Events", pay: [15, 22], time: "2-3 hours", icon: "ðŸŽ‰", desc: "Assist with kids' birthday parties and activities", startCost: 0 },
      { title: "Garage Organizing", category: "Organizing", pay: [22, 30], time: "3-4 hours", icon: "ðŸ ", desc: "Help organize and clean out garages", startCost: 0 },
      { title: "Baking Sales", category: "Food", pay: [15, 25], time: "Per batch", icon: "ðŸ§", desc: "Bake and sell treats at neighborhood events", startCost: 15 },
      { title: "Lemonade Stand", category: "Food", pay: [8, 15], time: "2-3 hours", icon: "ðŸ‹", desc: "Run a lemonade stand at local events", startCost: 10 },
      { title: "Arts & Crafts", category: "Creative", pay: [12, 18], time: "1 hour", icon: "ðŸŽ¨", desc: "Teach simple crafts to younger kids", startCost: 5 },
      { title: "Music Lessons", category: "Education", pay: [20, 30], time: "1 hour", icon: "ðŸŽµ", desc: "Give beginner music lessons to younger students", startCost: 0 },
    ];

    const neighborhoods = [
      "Maple Street", "Oak Avenue", "Pine Road", "Elm Drive", "Cedar Lane",
      "Birch Court", "Willow Way", "Spruce Street", "Hickory Place", "Aspen Circle",
    ];

    // State
    let state = {
      currentPage: 'swipe',
      jobs: [],
      currentIndex: 0,
      interested: [],
      working: [],
      showInfo: false,
      isAnimating: false,
      animationDirection: null,
      touchStart: null,
      dragOffset: { x: 0, y: 0 },
      isDragging: false
    };

    // Generate jobs
    function generateJobs() {
      const jobs = [];
      let id = 1;
      
      jobTemplates.forEach(template => {
        const variations = 35 + Math.floor(Math.random() * 6);
        for (let i = 0; i < variations; i++) {
          const neighborhood = neighborhoods[Math.floor(Math.random() * neighborhoods.length)];
          const payRate = template.pay[0] + Math.floor(Math.random() * (template.pay[1] - template.pay[0] + 1));
          
          jobs.push({
            id: id++,
            ...template,
            location: neighborhood,
            payRate: `$${payRate}/hr`,
            posted: `${Math.floor(Math.random() * 7) + 1}d ago`
          });
        }
      });
      
      return jobs.sort(() => Math.random() - 0.5);
    }

    // Initialize
    function init() {
      state.jobs = generateJobs();
      
      // Hide helper after 5 seconds
      setTimeout(() => {
        const helper = document.getElementById('helper');
        helper.style.opacity = '0';
        helper.style.transform = 'translate(-50%, -10px)';
        helper.style.pointerEvents = 'none';
      }, 5000);

      // Navigation
      document.getElementById('navDiscover').addEventListener('click', () => {
        state.currentPage = 'swipe';
        updateNav();
        render();
      });

      document.getElementById('navMyJobs').addEventListener('click', () => {
        state.currentPage = 'myjobs';
        updateNav();
        render();
      });

      render();
    }

    function updateNav() {
      const discoverBtn = document.getElementById('navDiscover');
      const myJobsBtn = document.getElementById('navMyJobs');
      
      if (state.currentPage === 'swipe') {
        discoverBtn.className = 'nav-btn flex flex-col items-center gap-1 px-8 py-3 rounded-2xl transition-all bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg';
        myJobsBtn.className = 'nav-btn flex flex-col items-center gap-1 px-8 py-3 rounded-2xl transition-all text-gray-600 hover:bg-gray-100 relative';
      } else {
        discoverBtn.className = 'nav-btn flex flex-col items-center gap-1 px-8 py-3 rounded-2xl transition-all text-gray-600 hover:bg-gray-100';
        myJobsBtn.className = 'nav-btn flex flex-col items-center gap-1 px-8 py-3 rounded-2xl transition-all bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg relative';
      }

      // Update badge
      const badge = document.getElementById('jobBadge');
      const total = state.interested.length + state.working.length;
      if (total > 0) {
        badge.textContent = total;
        badge.classList.remove('hidden');
      } else {
        badge.classList.add('hidden');
      }
    }

    function render() {
      const content = document.getElementById('mainContent');
      
      if (state.currentPage === 'swipe') {
        content.innerHTML = renderSwipePage();
        setupSwipeHandlers();
      } else {
        content.innerHTML = renderMyJobsPage();
        setupMyJobsHandlers();
      }
      
      updateNav();
    }

    function renderSwipePage() {
      const currentJob = state.jobs[state.currentIndex];
      
      if (!currentJob) {
        return `
          <div class="relative h-full flex flex-col items-center justify-center p-4 pb-8">
            <div class="text-center animate-fadeIn">
              <div class="text-7xl mb-4 animate-bounce">ðŸŽ‰</div>
              <h2 class="text-3xl font-bold text-gray-900 mb-3">All Caught Up!</h2>
              <p class="text-gray-600 text-lg">You've reviewed all available jobs.</p>
              <p class="text-gray-500 text-sm mt-2">Check back later for new opportunities!</p>
            </div>
          </div>
        `;
      }

      return `
        <div class="relative h-full flex flex-col items-center justify-center p-4 pb-8">
          <div id="swipeCard" class="w-full max-w-md select-none relative" style="cursor: grab;">
            <!-- Overlays -->
            <div id="likeOverlay" class="absolute inset-0 z-10 pointer-events-none transition-opacity duration-200 opacity-0">
              <div class="absolute top-12 right-8 bg-green-500 text-white px-8 py-4 rounded-2xl font-bold text-2xl shadow-2xl transform rotate-12 border-4 border-white">
                LIKE
              </div>
            </div>
            
            <div id="nopeOverlay" class="absolute inset-0 z-10 pointer-events-none transition-opacity duration-200 opacity-0">
              <div class="absolute top-12 left-8 bg-red-500 text-white px-8 py-4 rounded-2xl font-bold text-2xl shadow-2xl transform -rotate-12 border-4 border-white">
                NOPE
              </div>
            </div>

            <div class="bg-white rounded-3xl shadow-2xl overflow-hidden">
              <div class="relative bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 h-64 flex items-center justify-center">
                <div class="text-9xl animate-bounce-subtle">${currentJob.icon}</div>
                <div class="absolute top-4 right-4 bg-white/95 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg">
                  <span class="text-green-600 font-bold text-sm">${currentJob.payRate}</span>
                </div>
              </div>
              
              <div class="p-6">
                <div class="mb-4">
                  <h2 class="text-3xl font-bold text-gray-900 mb-1">${currentJob.title}</h2>
                  <p class="text-indigo-600 font-semibold text-sm uppercase tracking-wide">${currentJob.category}</p>
                </div>

                <div class="space-y-3 mb-4">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center text-gray-600">
                      <svg class="w-5 h-5 mr-3 text-indigo-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                      </svg>
                      <span class="text-sm font-medium">${currentJob.time}</span>
                    </div>
                    <div class="px-3 py-1 rounded-full text-xs font-bold ${
                      currentJob.startCost === 0 
                        ? 'bg-green-100 text-green-700' 
                        : 'bg-orange-100 text-orange-700'
                    }">
                      ${currentJob.startCost === 0 ? 'âœ“ FREE' : '$ PAID'}
                    </div>
                  </div>
                  <div class="flex items-center text-gray-600">
                    <svg class="w-5 h-5 mr-3 text-green-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <line x1="12" y1="1" x2="12" y2="23"></line>
                      <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                    </svg>
                    <span class="text-sm font-medium">You can earn: ${currentJob.payRate}</span>
                  </div>
                </div>

                <div id="jobInfo" class="${state.showInfo ? '' : 'hidden'} mt-4 p-4 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl animate-slideDown border border-indigo-100">
                  <p class="text-gray-700 leading-relaxed">${currentJob.desc}</p>
                </div>
              </div>
            </div>
          </div>

          <div class="flex gap-4 mt-8 relative z-20">
            <button id="btnPass" class="bg-white text-red-500 p-5 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 active:scale-95 transition-all border-2 border-red-200">
              <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
            </button>
            
            <button id="btnInfo" class="bg-white text-indigo-500 p-5 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 active:scale-95 transition-all border-2 border-indigo-200">
              <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="16" x2="12" y2="12"></line>
                <line x1="12" y1="8" x2="12.01" y2="8"></line>
              </svg>
            </button>
            
            <button id="btnLike" class="bg-white text-green-500 p-5 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 active:scale-95 transition-all border-2 border-green-200">
              <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
              </svg>
            </button>
          </div>

          <div class="mt-6 text-gray-500 text-sm font-medium">
            ${state.jobs.length - state.currentIndex} opportunities remaining
          </div>
        </div>
      `;
    }

    function setupSwipeHandlers() {
      const card = document.getElementById('swipeCard');
      const btnPass = document.getElementById('btnPass');
      const btnLike = document.getElementById('btnLike');
      const btnInfo = document.getElementById('btnInfo');
      
      if (!card) return;

      // Touch events
      card.addEventListener('touchstart', handleTouchStart);
      card.addEventListener('touchmove', handleTouchMove);
      card.addEventListener('touchend', handleTouchEnd);

      // Button events
      btnPass.addEventListener('click', () => executeSwipe('left'));
      btnLike.addEventListener('click', () => executeSwipe('right'));
      btnInfo.addEventListener('click', () => {
        state.showInfo = !state.showInfo;
        const info = document.getElementById('jobInfo');
        if (state.showInfo) {
          info.classList.remove('hidden');
        } else {
          info.classList.add('hidden');
        }
      });
    }

    function handleTouchStart(e) {
      if (state.isAnimating) return;
      const touch = e.touches[0];
      state.touchStart = { x: touch.clientX, y: touch.clientY };
      state.isDragging = true;
    }

    function handleTouchMove(e) {
      if (!state.touchStart || state.isAnimating) return;
      
      const touch = e.touches[0];
      const deltaX = touch.clientX - state.touchStart.x;
      const deltaY = touch.clientY - state.touchStart.y;
      
      state.dragOffset = { x: deltaX, y: deltaY };
      updateCardTransform();
    }

    function handleTouchEnd() {
      if (!state.touchStart || state.isAnimating) {
        state.isDragging = false;
        state.dragOffset = { x: 0, y: 0 };
        updateCardTransform();
        return;
      }

      const absX = Math.abs(state.dragOffset.x);
      const absY = Math.abs(state.dragOffset.y);
      const minSwipeDistance = 80;

      if (absY > absX && state.dragOffset.y < -minSwipeDistance) {
        state.showInfo = true;
        state.isDragging = false;
        state.dragOffset = { x: 0, y: 0 };
        state.touchStart = null;
        updateCardTransform();
        render();
      } else if (absX > minSwipeDistance) {
        const direction = state.dragOffset.x > 0 ? 'right' : 'left';
        executeSwipe(direction);
      } else {
        state.isDragging = false;
        state.dragOffset = { x: 0, y: 0 };
        state.touchStart = null;
        updateCardTransform();
      }
    }

    function updateCardTransform() {
      const card = document.getElementById('swipeCard');
      const likeOverlay = document.getElementById('likeOverlay');
      const nopeOverlay = document.getElementById('nopeOverlay');
      
      if (!card) return;

      if (state.isAnimating && state.animationDirection) {
        const exitX = state.animationDirection === 'right' ? 1000 : -1000;
        const exitRotate = state.animationDirection === 'right' ? 30 : -30;
        card.style.transform = `translateX(${exitX}px) rotate(${exitRotate}deg)`;
        card.style.opacity = '0';
        card.style.transition = 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
      } else if (state.isDragging) {
        const rotation = state.dragOffset.x / 15;
        const opacity = 1 - Math.abs(state.dragOffset.x) / 400;
        card.style.transform = `translateX(${state.dragOffset.x}px) translateY(${state.dragOffset.y}px) rotate(${rotation}deg)`;
        card.style.opacity = opacity;
        card.style.transition = 'none';
        card.style.cursor = 'grabbing';
      } else {
        card.style.transform = 'translateX(0px) translateY(0px) rotate(0deg)';
        card.style.opacity = '1';
        card.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
        card.style.cursor = 'grab';
      }

      // Update overlays
      const showLike = (state.isDragging && state.dragOffset.x > 50) || (state.isAnimating && state.animationDirection === 'right');
      const showNope = (state.isDragging && state.dragOffset.x < -50) || (state.isAnimating && state.animationDirection === 'left');
      
      if (likeOverlay) likeOverlay.style.opacity = showLike ? '1' : '0';
      if (nopeOverlay) nopeOverlay.style.opacity = showNope ? '1' : '0';
    }

    function executeSwipe(direction) {
      if (state.isAnimating || !state.jobs[state.currentIndex]) return;
      
      state.isAnimating = true;
      state.animationDirection = direction;
      state.isDragging = false;
      state.touchStart = null;
      
      updateCardTransform();
      
      setTimeout(() => {
        const currentJob = state.jobs[state.currentIndex];
        if (direction === 'right') {
          state.interested.push(currentJob);
        }
        
        state.currentIndex++;
        state.isAnimating = false;
        state.animationDirection = null;
        state.dragOffset = { x: 0, y: 0 };
        state.showInfo = false;
        
        render();
      }, 400);
    }

    function renderMyJobsPage() {
      return `
        <div class="p-6 overflow-y-auto h-full pb-24">
          <div class="mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center">
              <div class="bg-green-100 p-2 rounded-lg mr-3">
                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                  <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                </svg>
              </div>
              Active Jobs
            </h2>
            ${state.working.length === 0 ? `
              <div class="text-center py-12 bg-white rounded-2xl shadow-sm">
                <div class="text-5xl mb-3">ðŸ’¼</div>
                <p class="text-gray-500">No active jobs yet</p>
                <p class="text-gray-400 text-sm mt-1">Start a job from your saved list</p>
              </div>
            ` : `
              <div class="grid gap-4">
                ${state.working.map(job => `
                  <div class="bg-white rounded-2xl p-5 shadow-md border-2 border-green-500 hover:shadow-lg transition-all animate-slideIn">
                    <div class="flex
